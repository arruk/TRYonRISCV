
PROJETO RISCV (INICIACAO CIENTIFICA)

DEPENDÊNCIAS
-----------------------------------------------------------------------
RISCV Toolchain (riscv64-unknow-ef): https://github.com/sifive/freedom-tools/releases;
(Para o uso correto da toolchain, é necessário o ajuste do caminho no arquivo makefile.inc no diretório FIRMWARE.)

Verilator: "apt-get install verilator";

Yosys: https://github.com/YosysHQ/yosys ;

Next-PNR para dispositivos GOWIN: https://github.com/YosysHQ/apicula ;

Ajuste do caminho do diretório FIRMWARE no arquivo makefile.inc.

SIMULAÇÃO
-----------------------------------------------------------------------
Ao acessar o diretório SIM/ estarão disponíveis as implementações /
dos processadores, nomeados de core(version).v. Além disso, os programas /
que geram os arquivos de DATARAM (Memória de Dados) e PROGROM /
(Memória de Programa) estão localizaods no diretório SIM/FIMWARE.

Para gerar ambos arquivos de memória, é necessário usar o comando:

	make (programa_alvo).pipeline.hex

sendo "programa_alvo" o programa a ser executado no processador.
Feito isso e voltando ao diretório SIM, é possivel encontrar dois 
arquivos .hex que estão formatados da maneira que o leitor de arquivos
do Verilog consegue entender. Por fim, para executar o programa é
necessário usar o script run_verilog.sh da seguinte maneira:
	
	./run_verilator (implementacao_alvo).v

executando o verilator de acordo com o programa de simulacao bench.cpp.
Caso o programa alvo seja algum programa de Benchmark(CoreMark, Dhrystones 
ou Raystones) as informações de CPI e desempenho serão adicionadas a uma nova
linha no arquivo do respectivo Benchmark no diretorio INFO/BENCH .


SÍNTESE
-----------------------------------------------------------------------
A síntese dos códigos pode ser feita apenas para dois dispositivos:
TangNano9k e TangPrimer20k. Com isso, é preciso definir no verilog qual
FPGA será utilizado para que o tamanho da memória seja adaptado. Por fim,
para realizar a síntese é preciso usar o script:
	
	BOARDS/run_(board) (implementacao_alvo).v

sendo board o FPGA a ser utilizado(nano9k ou primer). O resumo da sintese
será direcionado para o diretorio INFO/BOARDS/(implementacao_alvo).txt .
